# Dubbo 框架启动配置
dubbo:
    # 应用配置
    application:
        name: ${spring.application.name}
        # 可选值
        # 控制provider服务导出时服务注册行为，应用级服务发现迁移用
        # - instance 只注册应用级服务；
        # - interface 只注册接口级服务；
        # - all 同时注册应用级和接口级服务，默认就是这个
        register-mode: instance
        parameters:
            # 可选值
            # 控制consumer服务引入时服务发现行为，应用级服务发现迁移用
            # - FORCE_INTERFACE 强制只使用接口级服务发现
            # - FORCE_APPLICATION 强制只使用应用级服务发现
            # - APPLICATION_FIRST 智能选择是接口级还是应用级，默认就是这个
            migration:
                step: FORCE_APPLICATION
    # 注册中心配置
    registry:
        address: nacos://127.0.0.1:8848
    # 协议配置
    protocols:
        # Dubbo 协议配置
        dubbo:
            id: dubbo
            name: dubbo
            port: 20880
        # Rest 协议配置
        rest:
            name: rest
            port: 10880
            default: false
        # Triple 协议配置
        tri:
            name: tri
            port: 50051
            default: false
    # 提供者公共配置
    provider:
        # 配置默认使用的协议
        # 本来可以不配置，配置 dubbo.protocols.xxx.default=false 就行，但是3.2.5有BUG，default=false 不生效
        protocol: dubbo
